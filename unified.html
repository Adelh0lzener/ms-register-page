<div class="background">
  <img src="stadion.jpg" alt="Stadion Hintergrund">
  <div class="overlay"></div>
</div>

<div class="form-container">
  <form id="api">
    <h2>Registrieren</h2>

    <div class="input-group">
      <label for="email">E-Mail*</label>
      <input type="email" id="email" name="email" required />
    </div>

    <div class="input-group">
      <label for="password">Passwort*</label>
      <input type="password" id="password" name="password" required />
    </div>

    <div class="input-group">
      <label for="extension_favoriteTeam">Lieblingsverein*</label>
      <select id="extension_favoriteTeam" name="extension_favoriteTeam" required>
        <option value="">Bitte ausw√§hlen...</option>
      </select>
    </div>

    <div class="input-group">
      <label for="extension_birthdate">Geburtsdatum*</label>
      <input type="date" id="extension_birthdate" name="extension_birthdate" required />
    </div>

    <button type="submit">Registrieren</button>
  </form>
</div>

<script>
  async function loadTeams() {
    const urls = [
      'data/liga1stadium.json',
      'data/liga2stadium.json',
      'data/liga3stadium.json'
    ];
    const allTeams = new Set();

    for (const url of urls) {
      try {
        const res = await fetch(url);
        const data = await res.json();
        data.forEach(item => allTeams.add(item.team.name));
      } catch (e) {
        console.error(`Fehler beim Laden von ${url}`, e);
      }
    }

    const select = document.getElementById('extension_favoriteTeam');
    [...allTeams].sort().forEach(name => {
      const option = document.createElement('option');
      option.value = name;
      option.textContent = name;
      select.appendChild(option);
    });
  }

  loadTeams();
</script>
