<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registrierung</title>
  <link rel="stylesheet" href="https://adelh0lzener.github.io/ms-register-page/style.css"/>
</head>
<body>
  <div class="form-container">
    <form id="registerForm">
      <h2>Registrieren</h2>

      <div class="input-group">
        <label for="email">E-Mail*</label>
        <input type="email" id="email" name="email" required />
      </div>

      <div class="input-group">
        <label for="phone">Telefonnummer (optional)</label>
        <input type="tel" id="phone" name="phone" />
      </div>

      <div class="input-group">
        <label for="password">Passwort*</label>
        <input type="password" id="password" name="password" required />
      </div>

      <div class="input-group">
        <label for="repeat-password">Passwort wiederholen*</label>
        <input type="password" id="repeat-password" name="repeat-password" required />
      </div>

      <div class="input-group">
        <label for="team">Lieblingsverein*</label>
        <select id="team" name="team" required>
          <option value="">Bitte ausw√§hlen...</option>
        </select>
      </div>

      <div class="input-group">
        <label for="birthdate">Geburtsdatum*</label>
        <input type="date" id="birthdate" name="birthdate" required />
      </div>

      <button type="submit">Registrieren</button>
    </form>
  </div>

  <script>
    async function loadTeams() {
      const urls = [
        'https://adelh0lzener.github.io/ms-register-page/data/liga1stadium.json',
        'https://adelh0lzener.github.io/ms-register-page/data/liga2stadium.json',
        'https://adelh0lzener.github.io/ms-register-page/data/liga3stadium.json'
      ];
      const allTeams = new Set();

      for (const url of urls) {
        try {
          const res = await fetch(url);
          const data = await res.json();
          data.forEach(item => allTeams.add(item.team.name));
        } catch (e) {
          console.error(`Fehler beim Laden von ${url}`, e);
        }
      }

      const select = document.getElementById('team');
      [...allTeams].sort().forEach(name => {
        const option = document.createElement('option');
        option.value = name;
        option.textContent = name;
        select.appendChild(option);
      });
    }

    loadTeams();
  </script>
</body>
</html>
